!function(e){function __webpack_require__(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}var r={};__webpack_require__.m=e,__webpack_require__.c=r,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,r,n){__webpack_require__.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(r,"a",r),r},__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,exports){function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)}function createBoolector(boolector){return eval(boolector),Module}function shuffle(e){for(var r=e.length;r;r-=1){var n=Math.floor(Math.random()*r),t=[e[n],e[r-1]];e[r-1]=t[0],e[n]=t[1]}}function getResultAndTimetable(e,r,n,t,o){var u=NUSModsPlannerApi.plannerQueryUrl(e,r,n,t,o),a=new XMLHttpRequest;a.open("GET",u,!1),a.send(null);var i=void 0,l=void 0;if(200!==a.status)return[];var s=JSON.parse(a.responseText);return i=s[0],l=s[1],resultAndtimetableBuilder(i,l,o,r)}function resultAndtimetableBuilder(e,r,n,t){var o=solveQuery(e),u=o[0],a=o[1],i=n;t.freeday&&(i+=1);var l=parseOutput(a),s=[];if("SAT"===u){[].concat(_toConsumableArray(Array(i).keys())).forEach(function(e){var n=l["x_"+e],t=r[n],o=t[0],u=t[1];Object.keys(u).forEach(function(e){var r=l[o+"_"+e],n=u[e][r];s.push(o+"_"+e+"_"+n)})})}return s=s.filter(function(e){return!e.includes("FREEDAY")}),{result:u,timetable:s}}function solve(e,r){var n="";return e.print=function(e){n=""+n+e+"\n"},e.printErr=function(e){n=""+n+e+"\n"},[e.cwrap("solve_string","string",["string","number"])(r,2),n]}function solveQuery(e){return solve(bmodule,e)}function parseOutput(e){for(var r=e.split("\n"),n={result:r[0]},t=1;t<r.length;t+=1){var o=r[t].trim(),u=o.substring(0,o.lastIndexOf(" ")).replace(/\|/g,""),a=o.substring(o.lastIndexOf(" "));n[u]=parseInt(a,2)}return n}var bmodule="oh no";onmessage=function(e){var r=e.data,n=r.semester,t=r.options,o=r.compMods,u=r.optMods,a=r.workload,i=r.boolector,l=r.numTimes;bmodule=createBoolector(i);var s=getResultAndTimetable(n,t,o,u,a),_=s.result,c=s.timetable;postMessage({result:_,timetable:c,numTimes:l})};var _plannerBaseUrl="https://modsplanner.tk/api",NUSModsPlannerApi={plannerBaseUrl:function(){return"https://modsplanner.tk/api"},plannerQueryUrl:function(e,r,n,t,o){shuffle(n),shuffle(t);var u=0!==n.length?n.join(","):"null",a=0!==t.length?t.join(","):"null",i=r||{};return"https://modsplanner.tk/api/"+e+"/"+o+"/"+u+"/"+a+"/\n    "+encodeURIComponent(JSON.stringify(i))}}}]);
//# sourceMappingURL=ea4ec11fa7afcbe218ab.worker.js.map